{"title":"Build-In Plugins","date":"2022-02-13 14:12:37Z","categories":["Plugin"],"order":4,"toc":"\u003Cul class=\u0022toc-list\u0022\u003E\u003Cli class=\u0022toc-item toc-item-level-1\u0022\u003E\u003Ca href=\u0022#toc-1\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E1.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EIntroduction\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\n\u003Cli class=\u0022toc-item toc-item-level-1\u0022\u003E\u003Ca href=\u0022#toc-2\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E2.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EEnable and Sort order by plugins\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-1\u0022\u003E\u003Ca href=\u0022#toc-3\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EBuild-In plugins\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cul class=\u0022toc-list\u0022\u003E\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-4\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.1.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EMarkdownParser\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-5\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.2.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EBuildWebArticleJson\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-6\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.3.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EGitDeploy\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cul class=\u0022toc-list\u0022\u003E\u003Cli class=\u0022toc-item toc-item-level-3\u0022\u003E\u003Ca href=\u0022#toc-7\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.3.1.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EType\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\n\u003C/uL\u003E\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-8\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.4.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ESkipIfDraft\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-9\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.5.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ECopyToDist\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-10\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.6.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ESitemapGenerator\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-11\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.7.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ELinkProcess\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-12\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.8.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ECategoryProcess\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-13\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.9.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ETagProcess\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-14\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.10.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EArchiveProcess\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003C/ul\u003E","contentParsed":"\u003Carticle class=\u0022markdown-body\u0022\u003E\u003Cdiv id=\u0027bbob-markdown-content\u0027\u003E\u003Ch1 id=\u0022toc-1\u0022 class=\u0022bbob-h1\u0022\u003EIntroduction\u003C/h1\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EBbob will run build-in plugins first.\u003C/p\u003E\n\u003Ch1 id=\u0022toc-2\u0022 class=\u0022bbob-h1\u0022\u003EEnable and Sort order by plugins\u003C/h1\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EBuild-in plugins default is no need sort order. It is compatible. But you want order or remove build-in plugin can go \u003Ccode\u003Econfig.buildInPlugins\u003C/code\u003E settle.\u003C/p\u003E\n\u003Ch1 id=\u0022toc-3\u0022 class=\u0022bbob-h1\u0022\u003EBuild-In plugins\u003C/h1\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EBbob have build-in plugins to process data.\u003C/p\u003E\n\u003Ch2 id=\u0022toc-4\u0022 class=\u0022bbob-h2\u0022\u003EMarkdownParser\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ETo parse the .md file and register data to PluginHelper. Will register \u0026quot;markdown\u0026quot;, \u0026quot;getYamlObject\u0026quot; and \u0026quot;linkInfo\u0026quot;.\u003C/p\u003E\n\u003Ch2 id=\u0022toc-5\u0022 class=\u0022bbob-h2\u0022\u003EBuildWebArticleJson\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ETo build the article json to the web file.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ETarget file will be like:\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E{\n    \u0026quot;title\u0026quot;: \u0026quot;Hi\u0026quot;,\n    \u0026quot;date\u0026quot;: \u0026quot;2022-02-13 12:11:00Z\u0026quot;,\n    \u0026quot;categories\u0026quot;: [],\n    \u0026quot;tags\u0026quot;: [],\n    \u0026quot;contentParsed\u0026quot;: \u0026quot;\u0026quot;,\n    \u0026quot;toc\u0026quot;: \u0026quot;\u0026quot;\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ECan set config in config file \u003Ccode\u003EBuildWebArticleJson.config.json\u003C/code\u003E:\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E{\n    \u0026quot;shortAddress\u0026quot;: false\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003Eif \u003Ccode\u003EshortAddress\u003C/code\u003E true, article json file address is short address. And meta.extra.shortAddress have the full address text.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E//false\n\u0026quot;address\u0026quot;: \u0026quot;/bbob.assests/articles/helloWorld.ed23a19bd.json\n\n//true\n\u0026quot;address\u0026quot;: \u0026quot;helloWorld.ed23a19bd\u0026quot;\n\n//get full address with short address:\nconst shortAddress = Bbob.meta.extra.shortAddress; //If shortAddress is false will no set this meta.\nlet full = \u0060${shortAddress.startOfAddress}${address}${${shortAddress.endOfAddress}\u0060\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 id=\u0022toc-6\u0022 class=\u0022bbob-h2\u0022\u003EGitDeploy\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ERun by \u003Ccode\u003Edeploy\u003C/code\u003E command. Can deploy your blog with git.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EFirst make the config file to \u003Ccode\u003Econfigs\u003C/code\u003E folder. Name it \u003Ccode\u003EGitDeploy.config.json\u003C/code\u003E.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E// ./configs/GitDeploy.config.json\n{\n    \u0026quot;repos\u0026quot;: \u0026quot;yourGitRepository\u0026quot;,\n    \u0026quot;branch\u0026quot;: \u0026quot;yourBranch\u0026quot;,\n    \u0026quot;message\u0026quot;: \u0026quot;commit message\u0026quot;\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIf you ignore \u0027branch\u0027, it will default \u003Ccode\u003Emain\u003C/code\u003E.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIf you ignore \u0027message\u0027, it will default date time of update.\u003C/p\u003E\n\u003Ch3 id=\u0022toc-7\u0022 class=\u0022bbob-h3\u0022\u003EType\u003C/h3\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EHave build-in type to process distribution.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E// ./configs/GitDeploy.config.json\n{\n    \u0026quot;repos\u0026quot;: \u0026quot;yourGitRepository\u0026quot;,\n    \u0026quot;branch\u0026quot;: \u0026quot;yourBranch\u0026quot;,\n    \u0026quot;message\u0026quot;: \u0026quot;commit message\u0026quot;,\n    \u0026quot;type\u0026quot;: \u0026quot;theType\u0026quot;\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ECurrently types have \u003Ccode\u003Egithub\u003C/code\u003E.\u003C/p\u003E\n\u003Ch2 id=\u0022toc-8\u0022 class=\u0022bbob-h2\u0022\u003ESkipIfDraft\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIf article file front matter have property \u0027draft\u0027 and value is \u003Ccode\u003ETrue\u003C/code\u003E, generate will skip this file.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E// ./articles/hello.md\n---\n...\ndraft: true\n...\n---\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIn example, generate will skip file \u003Ccode\u003E./articles/hello.md\u003C/code\u003E\u003C/p\u003E\n\u003Ch2 id=\u0022toc-9\u0022 class=\u0022bbob-h2\u0022\u003ECopyToDist\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIf exists directory \u0027MyFiles\u0027 at your current path, generate will copy all files or directory in \u0027MyFiles\u0027 to distribution.\u003C/p\u003E\n\u003Ch2 id=\u0022toc-10\u0022 class=\u0022bbob-h2\u0022\u003ESitemapGenerator\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EGenerate the sitemap and add robots.txt to reference to sitemap.txt path.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003Esitemap.txt content is list of article address path. SitemapGenerator require theme support. Please make sure theme.json have object \u003Ccode\u003EarticleBaseUrl\u003C/code\u003E. It is address of theme web page. Example, visit \u003Ccode\u003Ehttps://mydomain.com/article?address=ARTICLE_URL\u003C/code\u003E will get page of article, so theme.json must set \u003Ccode\u003EarticleBaseUrl\u003C/code\u003E be \u003Ccode\u003E/article?address=\u003C/code\u003E.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ESitemapGenerator will generate list of article address, the address is get from plugin \u003Ccode\u003EBuildWebArticleJson\u003C/code\u003E. And make sure theme support. For example, Bbob default theme url to show article is \u003Ccode\u003Ehttps://mydomain.com/article?address=ARTICLE_ADDRESS_HERE\u003C/code\u003E.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EExample address generate from \u003Ccode\u003EBuildWebArticleJson\u003C/code\u003E is \u003Ccode\u003E/bbob.assets/articles/helloWorld.ed23a19bd.json\u003C/code\u003E\narticle address in sitemap.txt content is \u003Ccode\u003Edomain\u003C/code\u003E \u002B \u003Ccode\u003EarticleBaseUrl\u003C/code\u003E \u002B address:\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E//sitemap.txt\nhttps://mydomain.com/article?address=/bbob.assets/articles/helloWorld.ed23a19bd.json\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ESitemapGenerator will replace url to redirect url in sitemap.txt, so real content in sitemap.txt will like this:\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E//sitemap.txt\nhttps://mydomain.com/?/article\u0026amp;address=/bbob.assets/articles/helloWorld.ed23a19bd.json\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EAnd then SitemapGenerator will insert script to index.html it will auto replace redirect url to real url. This is because seo of google does like 404 page. And generated blog website is single page app. Is mainly for github host.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ECan off the redirect url in config:\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E// ./configs/SitemapGenerator.config.json\n{\n    \u0026quot;redirectUrl\u0026quot;: false\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EFunction is get from:\u003C/p\u003E\n\u003Cblockquote class=\u0022bbob-quote\u0022\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003Ehttps://github.com/rafgraph/spa-github-pages\u003C/p\u003E\n\u003C/blockquote\u003E\n\u003Ch2 id=\u0022toc-11\u0022 class=\u0022bbob-h2\u0022\u003ELinkProcess\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EProcess the object \u0027article\u0027 to link in \u0027blog\u0027 object.\nWill sort the articles and register object \u0027links\u0027 sorted.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EYou can set \u003Ccode\u003Eorder\u003C/code\u003E in article file front matter.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E---\n...\norder: 1\n---\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIt will sort by order:\u003C/p\u003E\n\u003Cul class=\u0022bbob-list-unordered\u0022\u003E\n\u003Cli\u003Ehave order article sort higher than no have order.\u003C/li\u003E\n\u003Cli\u003Ecompare two article order, order lower article sort higher.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Ch2 id=\u0022toc-12\u0022 class=\u0022bbob-h2\u0022\u003ECategoryProcess\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EProcess category from \u0027links\u0027 object.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EConfig:\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E{\n    \u0026quot;mode\u0026quot;: \u0026quot;default\u0026quot; // set to folder to use folder name category.\n    \u0026quot;sort\u0026quot;: [\n        \u0026quot;category1\u0026quot;,\n        \u0026quot;category2\u0026quot;\n    ] // sort the categories\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 id=\u0022toc-13\u0022 class=\u0022bbob-h2\u0022\u003ETagProcess\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EProcess tag from \u0027links\u0027 object\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EConfig:\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E{\n    \u0026quot;sort\u0026quot;: [\n        \u0026quot;tag1\u0026quot;,\n        \u0026quot;tag2\u0026quot;\n    ] // sort the tags\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 id=\u0022toc-14\u0022 class=\u0022bbob-h2\u0022\u003EArchiveProcess\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EProcess archive from \u0027links\u0027 object\u003C/p\u003E\n\u003C/div\u003E\u003C/article\u003E\u003Cscript\u003Ehljs.highlightAll()\u003C/script\u003E\n\n\u003Cdiv id=\u0022disqus_thread\u0022\u003E\u003C/div\u003E\r\n\u003Cscript\u003E\r\n    var disqus_config = function () {\r\n    // this.page.url = PAGE_URL;  // Replace PAGE_URL with your page\u0022s canonical URL variable\r\n    this.page.identifier = \u0022\\articles\\Plugin\\pluginBuildIn.md\u0022; // Replace \u0022\\articles\\Plugin\\pluginBuildIn.md\u0022 with your page\u0022s unique identifier variable\r\n    };\r\n    (function() { // DON\u0022T EDIT BELOW THIS LINE\r\n    var d = document, s = d.createElement(\u0022script\u0022);\r\n    s.src = \u0022https://bbobdoc.disqus.com/embed.js\u0022;\r\n    s.setAttribute(\u0022data-timestamp\u0022, \u002Bnew Date());\r\n    (d.head || d.body).appendChild(s);\r\n    })();\r\n\u003C/script\u003E\r\n\u003Cnoscript\u003EPlease enable JavaScript to view the \u003Ca href=\u0022https://disqus.com/?ref_noscript\u0022\u003Ecomments powered by Disqus.\u003C/a\u003E\u003C/noscript\u003E"}