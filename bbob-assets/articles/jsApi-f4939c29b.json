{"title":"JS api","date":"2022-02-13 11:07:15Z","categories":["Theme"],"order":2,"toc":"\u003Cul class=\u0022toc-list\u0022\u003E\u003Cli class=\u0022toc-item toc-item-level-1\u0022\u003E\u003Ca href=\u0022#toc-1\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E1.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EIntroduction\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\n\u003Cli class=\u0022toc-item toc-item-level-1\u0022\u003E\u003Ca href=\u0022#toc-2\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E2.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EUse it\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-1\u0022\u003E\u003Ca href=\u0022#toc-3\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EObject \u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cul class=\u0022toc-list\u0022\u003E\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-4\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.1.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EIntroduction\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-5\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.2.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EArticles\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-6\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.3.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ECategories\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-7\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.4.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ETags\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-8\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E3.5.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003ENext file links\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003C/uL\u003E\u003Cli class=\u0022toc-item toc-item-level-1\u0022\u003E\u003Ca href=\u0022#toc-9\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E4.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EObject \u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cul class=\u0022toc-list\u0022\u003E\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-10\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E4.1.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EIntroduction\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-11\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E4.2.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EGet meta\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-12\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E4.3.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EMore meta\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003C/uL\u003E\u003Cli class=\u0022toc-item toc-item-level-1\u0022\u003E\u003Ca href=\u0022#toc-13\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E5.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EObject \u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\u003Cul class=\u0022toc-list\u0022\u003E\u003Cli class=\u0022toc-item toc-item-level-2\u0022\u003E\u003Ca href=\u0022#toc-14\u0022\u003E\u003Cspan class=\u0022toc-number\u0022\u003E5.1.\u003C/span\u003E\n\u003Cspan class=\u0022toc-text\u0022\u003EIntroduction\u003C/span\u003E\u003C/a\u003E\n\u003C/li\u003E\n\n\u003C/ul\u003E","contentParsed":"\u003Carticle class=\u0022markdown-body\u0022\u003E\u003Cdiv id=\u0027bbob-markdown-content\u0027\u003E\u003Ch1 id=\u0022toc-1\u0022 class=\u0022bbob-h1\u0022\u003EIntroduction\u003C/h1\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EJs Api is the path for the theme to fetch data. Is a global variable in your theme.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EBbob provide a ts module to help you develop.\u003C/p\u003E\n\u003Ch1 id=\u0022toc-2\u0022 class=\u0022bbob-h1\u0022\u003EUse it\u003C/h1\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EFor js project, you can access the global api from \u003Ccode\u003Ewindow.Bbob\u003C/code\u003E.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EFor ts project, you can import ts module of Bbob provide to use it.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003E//Bbob.ts path ./src/Bbob.ts\nimport Bbob from \u0026quot;./src/Bbob.ts\n...\nconsole.log(Bbob);\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIn the rest document will use the \u003Ccode\u003EBbob\u003C/code\u003E name to mean ts module.\u003C/p\u003E\n\u003Ch1 id=\u0022toc-3\u0022 class=\u0022bbob-h1\u0022\u003EObject \u003Ccode\u003EBbob.blog\u003C/code\u003E\u003C/h1\u003E\n\u003Ch2 id=\u0022toc-4\u0022 class=\u0022bbob-h2\u0022\u003EIntroduction\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EThis is blog articles, categories, tags and nextFileLinks access place.\u003C/p\u003E\n\u003Ch2 id=\u0022toc-5\u0022 class=\u0022bbob-h2\u0022\u003EArticles\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EThe current articles is in the \u003Ccode\u003EBbob.blog.links\u003C/code\u003E. It is array of \u003Ccode\u003ELinkInfo\u003C/code\u003E object.\u003C/p\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EArray length is Bbob cli \u003Ccode\u003Econfig.blogCountOneTime\u003C/code\u003E. If \u003Ccode\u003Econfig.allLink\u003C/code\u003E value is \u003Ccode\u003Ecurrent\u003C/code\u003E will save all articles in here.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003Efor (int i = 0; i \u0026lt; Bbob.blog.links.length; i\u002B\u002B){\n    let link = Bbob.blog.links[i];\n    console.log(\u0060title: ${link.title}\u0060)\n    console.log(\u0060date: ${link.date}\u0060)\n    console.log(\u0060categories: ${link.categories}\u0060)\n    console.log(\u0060tags: ${link.tags}\u0060)\n    console.log(\u0060address: ${link.address}\u0060)\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003E\u003Ccode\u003Elink.address\u003C/code\u003E is url of article json. The article content is in the article json file.\u003C/p\u003E\n\u003Ch2 id=\u0022toc-6\u0022 class=\u0022bbob-h2\u0022\u003ECategories\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EAll category is save in \u003Ccode\u003EBbob.blog.categories\u003C/code\u003E. It is array of \u003Ccode\u003Estring\u003C/code\u003E.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003Efor (int i = 0; i \u0026lt; Bbob.blog.categories.length; i\u002B\u002B){\n    let category = Bbob.blog.categories[i];\n    console.log(\u0060Category: ${category}\u0060)\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 id=\u0022toc-7\u0022 class=\u0022bbob-h2\u0022\u003ETags\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EAll tag is save in \u003Ccode\u003EBbob.blog.tags\u003C/code\u003E. It is array of \u003Ccode\u003Estring\u003C/code\u003E.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003Efor (int i = 0; i \u0026lt; Bbob.blog.tags.length; i\u002B\u002B){\n    let tag = Bbob.blog.tags[i];\n    console.log(\u0060Tag: ${tag}\u0060)\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 id=\u0022toc-8\u0022 class=\u0022bbob-h2\u0022\u003ENext file links\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIf user no modify config, it will save 10 articles in the \u003Ccode\u003EBbob.blog.links\u003C/code\u003E. For more articles will save in the one json file. \u003Ccode\u003EBbob.blog.nextFileLinks\u003C/code\u003E is target file path array. Not recommend you access with array, Bbob provide the function to access them.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003Efor (int i = 0; i \u0026lt; Bbob.blog.nextFileLinks.length; i\u002B\u002B){\n    let url = Bbob.blog.nextFileLinks[i];\n    console.log(\u0060Url: ${url}\u0060)\n}\n\u003C/code\u003E\u003C/pre\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EIf Bbob \u003Ccode\u003Econfig.allLink\u003C/code\u003E value is \u003Ccode\u003Enext\u003C/code\u003E, all articles will save in the next file.\u003C/p\u003E\n\u003Ch1 id=\u0022toc-9\u0022 class=\u0022bbob-h1\u0022\u003EObject \u003Ccode\u003EBbob.meta\u003C/code\u003E\u003C/h1\u003E\n\u003Ch2 id=\u0022toc-10\u0022 class=\u0022bbob-h2\u0022\u003EIntroduction\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EBbob meta is save in the \u003Ccode\u003EBbob.meta\u003C/code\u003E.\u003C/p\u003E\n\u003Ch2 id=\u0022toc-11\u0022 class=\u0022bbob-h2\u0022\u003EGet meta\u003C/h2\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003Econsole.log(Bbob.meta.blogName);\nconsole.log(Bbob.meta.author);\nconsole.log(Bbob.meta.description);\nconsole.log(Bbob.meta.about);\nconsole.log(Bbob.meta.copyright);\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 id=\u0022toc-12\u0022 class=\u0022bbob-h2\u0022\u003EMore meta\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EYou can fetch more meta with:\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003Econsole.log(Bbob.meta.extra.ExtraMeta1.hello)\nconsole.log(Bbob.meta.extra.ExtraMeta2.HiMessage)\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch1 id=\u0022toc-13\u0022 class=\u0022bbob-h1\u0022\u003EObject \u003Ccode\u003EBbob.api\u003C/code\u003E\u003C/h1\u003E\n\u003Ch2 id=\u0022toc-14\u0022 class=\u0022bbob-h2\u0022\u003EIntroduction\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EThis is all Bbob provide functions.\u003C/p\u003E\n\u003Ch2 class=\u0022bbob-h2\u0022\u003E\u003Ccode\u003EBbob.api.nextLinkInfos()\u003C/code\u003E\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003EThis is function to access the next link infos file. It receive one function. If no more next file links will get false value.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003EBbob.api.nextLinkInfos((nextLinkArray)=\u0026gt;{\n    if (!nextLinkArray) return;\n    for (int i = 0; i \u0026lt; nextLinkArray.length; i\u002B\u002B){\n        let link = nextLinkArray[i];\n        console.log(\u0060title: ${link.title}\u0060)\n        console.log(\u0060date: ${link.date}\u0060)\n        console.log(\u0060categories: ${link.categories}\u0060)\n        console.log(\u0060tags: ${link.tags}\u0060)\n        console.log(\u0060address: ${link.address}\u0060)\n    }\n})\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 class=\u0022bbob-h2\u0022\u003E\u003Ccode\u003EBbob.api.resetNextLinkInfosOffset()\u003C/code\u003E\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003E\u003Ccode\u003EBbob.api.nextLinkInfos()\u003C/code\u003E have a offset of \u003Ccode\u003EBbob.blog.nextLink\u003C/code\u003E inside. When \u003Ccode\u003Eoffset\u003C/code\u003E value same nextFileLinks.length, nextLinksInfos callback function will receive false value. \u003Ccode\u003EBbob.api.resetNextLinkInfosOffset()\u003C/code\u003E can reset offset.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003EBbob.api.resetNextLinkInfosOffset() //reset to zero\nBbob.api.resetNextLinkInfosOffset(3) //reset to three.\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 class=\u0022bbob-h2\u0022\u003E\u003Ccode\u003EBbob.api.getArticleFromAddress()\u003C/code\u003E\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ETo get the real content of article, must use this function.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003EBbob.api.getArticleFromAddress(articleAddress, (link)=\u0026gt;{\n    console.log(link.contentParsed)\n    console.log(link.toc)\n})\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 class=\u0022bbob-h2\u0022\u003E\u003Ccode\u003EBbob.api.getLinkInfosWithTag()\u003C/code\u003E\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ETo get all linkInfo with tag.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003EBbob.api.getLinkInfosWithTag(tagName, (linkArray)=\u0026gt;{\n    if (!linkArray) return;\n    for (int i = 0; i \u0026lt; linkArray.length; i\u002B\u002B){\n        let link = linkArray[i];\n        console.log(\u0060title: ${link.title}\u0060)\n        console.log(\u0060date: ${link.date}\u0060)\n        console.log(\u0060categories: ${link.categories}\u0060)\n        console.log(\u0060tags: ${link.tags}\u0060)\n        console.log(\u0060address: ${link.address}\u0060)\n    }\n})\n\u003C/code\u003E\u003C/pre\u003E\n\u003Ch2 class=\u0022bbob-h2\u0022\u003E\u003Ccode\u003EBbob.api.getLinkInfosWithCategories()\u003C/code\u003E\u003C/h2\u003E\n\u003Cp class=\u0022bbob-p\u0022\u003ETo get all linkInfo with tag.\u003C/p\u003E\n\u003Cpre\u003E\u003Ccode class=\u0022bbob-code\u0022\u003EBbob.api.getLinkInfosWithCategories(categoryName, (linkArray)=\u0026gt;{\n    if (!linkArray) return;\n    for (int i = 0; i \u0026lt; linkArray.length; i\u002B\u002B){\n        let link = linkArray[i];\n        console.log(\u0060title: ${link.title}\u0060)\n        console.log(\u0060date: ${link.date}\u0060)\n        console.log(\u0060categories: ${link.categories}\u0060)\n        console.log(\u0060tags: ${link.tags}\u0060)\n        console.log(\u0060address: ${link.address}\u0060)\n    }\n})\n\u003C/code\u003E\u003C/pre\u003E\n\u003C/div\u003E\u003C/article\u003E\u003Cscript\u003Ehljs.highlightAll()\u003C/script\u003E\n\n\u003Cdiv id=\u0022disqus_thread\u0022\u003E\u003C/div\u003E\r\n\u003Cscript\u003E\r\n    var disqus_config = function () {\r\n    // this.page.url = PAGE_URL;  // Replace PAGE_URL with your page\u0022s canonical URL variable\r\n    this.page.identifier = \u0022\\articles\\Theme\\jsApi.md\u0022; // Replace \u0022\\articles\\Theme\\jsApi.md\u0022 with your page\u0022s unique identifier variable\r\n    };\r\n    (function() { // DON\u0022T EDIT BELOW THIS LINE\r\n    var d = document, s = d.createElement(\u0022script\u0022);\r\n    s.src = \u0022https://bbobdoc.disqus.com/embed.js\u0022;\r\n    s.setAttribute(\u0022data-timestamp\u0022, \u002Bnew Date());\r\n    (d.head || d.body).appendChild(s);\r\n    })();\r\n\u003C/script\u003E\r\n\u003Cnoscript\u003EPlease enable JavaScript to view the \u003Ca href=\u0022https://disqus.com/?ref_noscript\u0022\u003Ecomments powered by Disqus.\u003C/a\u003E\u003C/noscript\u003E"}